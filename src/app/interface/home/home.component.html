<app-scrollbar [scrollPosition]="scrollPosition" [numberOfPage]="12"></app-scrollbar>

<app-star-exposure 
    [ngStyle]="{
        'opacity': currentPageIndex >= 3 && currentPageIndex <= 4 ? 0 : 1
    }" 
    [move]="currentPageIndex >= 10 && currentPageIndex < 13" 
></app-star-exposure>

<div class="canvas">
    <div class="presented">
        <!-- PLANETS-1 -->
        <div [ngStyle]="updatePlanet()" class="planets-1">

            <app-planet-gen 
                [ngStyle]="moveByMouseOffset('planet-1', 0.07)"
                [animPercentage]="getPositionForPage(0, 100, 1)" 
                [planetSize]="700" 
                [gradient]="[
                    [117, 68, 225],
                    [0, 224, 225],
                ]"
                [hasRings]="true"
                [hasPerspective]="true"
                class="planet-1"
            ></app-planet-gen>

            <app-planet-gen 
                [ngStyle]="moveByMouseOffset('sat-1', 0.4)"
                [animPercentage]="getPositionForPage(0, 100, 1)" 
                [planetSize]="150" 
                [gradient]="[
                    [57, 203, 130],
                    [77, 136, 218],
                ]"
                class="planet-1-satellite-1"
            ></app-planet-gen>

            <app-planet-gen 
                [ngStyle]="moveByMouseOffset('sat-2', 0.4)"
                [animPercentage]="getPositionForPage(0, 100, 1)" 
                [planetSize]="100" 
                [gradient]="[
                    [218, 77, 190],
                    [57, 106, 203],
                ]"
                class="planet-1-satellite-2"
            ></app-planet-gen>
        </div>

        <!-- Landing Title -->
        <div class="landing-title">
            <div>
                <p [ngStyle]="{
                    'width': getPositionForPage(325, 0, 2) + 'px', 
                    'opacity': getPositionForPage(1, 0, 2)
                }">CREATE</p>

                <span [ngStyle]="{'opacity': getPositionForPage(1, 0, 3)}">WITH</span>
            </div>

            <div>
                <span [ngStyle]="{'opacity': getPositionForPage(1, 0, 3)}">LOVE</span>

                <p [ngStyle]="{
                    'width': getPositionForPage(430, 0, 2) + 'px', 
                    'opacity': getPositionForPage(1, 0, 2)
                }">ANYTHING</p>
            </div>
        </div>

        <!-- Raining Stars -->
        @for (star of updateStarsPositions(); track star) {
        <div [ngStyle]="star" class="star"></div>
        }

        <!-- Projects Highlight -->
        <div [ngStyle]="fixToPage(4)" class="projects">
            <div class="heading">
                <p class="title">OUR PROJECTS</p>

                <div>
                    <p class="description">A SELECTION OF</p>
                    <p class="description">OUR MOST LOVED</p>
                    <p class="description">AND PASSIONATE WORK.</p>
                </div>
            </div>

            <div class="items-grid">
                @for (project of PROJECTS; track $index) {
                <div 
                    #tracking 
                    (mousemove)="updateImagePerspective($event, $index)"
                    (mouseleave)="resetImagePerspective($index)" 
                    class="item"
                >

                    <div class="illustration">
                        <img [ngStyle]="{'transform': transformStyles[$index]}" [src]="project.image" alt="">

                        <div class="select-hover-container">
                            <div class="select-hover"></div>
                            <img class="arrow-icon" src="icons/arrow.svg" alt="">
                        </div>
                    </div>

                    <p class="tags">{{ project.tags }}</p>
                    <p class="title">{{ project.name }}</p>
                </div>
                }
            </div>

            <div class="button">
                <span>SEE ALL PROJECTS</span>
            </div>

        </div>

        <!-- PLANETS-2 -->
        <div [ngClass]="{'planets-2-hide': currentPageIndex >= 9}" [ngStyle]="{'opacity': getPositionForPage(0, 1, 5), 'top': getPositionForPage2(0, 20, [5, 10]) * -1 + 'vh'}" class="planets-2">
            <!-- PLANET 2: SVG LIGHTNING -->
            <svg class="planet-2-lightning" viewBox="0 0 756 756" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_f_603_264)">
                    <circle cx="378.029" cy="377.897" r="330" transform="rotate(99.0704 378.029 377.897)"
                        fill="url(#paint0_linear_603_264)" fill-opacity="0.44" />
                </g>
                <g filter="url(#filter1_f_603_264)">
                    <circle cx="378.029" cy="377.897" r="330" transform="rotate(99.0704 378.029 377.897)"
                        fill="url(#paint1_linear_603_264)" />
                </g>
                <defs>
                    <filter id="filter0_f_603_264" x="27.38" y="27.2486" width="701.297" height="701.297"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                        <feGaussianBlur stdDeviation="10.3" result="effect1_foregroundBlur_603_264" />
                    </filter>
                    <filter id="filter1_f_603_264" x="27.38" y="27.2486" width="701.297" height="701.297"
                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                        <feGaussianBlur stdDeviation="10.3" result="effect1_foregroundBlur_603_264" />
                    </filter>
                    <linearGradient id="paint0_linear_603_264" x1="378.029" y1="47.8974" x2="378.029" y2="707.897"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#AAB8FF" />
                        <stop offset="0.746666" stop-color="#FF0004" stop-opacity="0" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_603_264" x1="378.029" y1="47.8974" x2="378.029" y2="707.897"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-opacity="0" />
                        <stop [attr.offset]="getPositionForPage2(0.01, 1, [5, 8])"/>
                    </linearGradient>
                </defs>
            </svg>

            <!-- PLANET 2: BASE COLOR -->
            <img class="planet-2-base-color" src="images/planet2-basecolor.png">

            <!-- SATELLITE: SVG -->
            <svg class="planet-2-satellite" viewBox="0 0 125 125" xmlns="http://www.w3.org/2000/svg">
                <circle cx="62.3" cy="62.3" r="48.1" transform="rotate(99 62 62)" />
                <g filter="url(#A)">
                    <circle cx="62.3" cy="62.3" r="48.1" transform="rotate(99 62 62)" fill="url(#B)"
                        fill-opacity=".4" />
                </g>
                <g filter="url(#C)">
                    <circle cx="62.3" cy="62.3" r="48.1" transform="rotate(99 62 62)" fill="url(#D)"
                        fill-opacity=".4" />
                </g>
                <g filter="url(#E)">
                    <circle cx="62.3" cy="62.3" r="48.1" transform="rotate(99 62 62)" fill="url(#F)" />
                </g>
                <defs>
                    <linearGradient id="B" x1="62.3" y1="14.2" x2="62.3" y2="110.4" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#4D88DA" />
                        <stop offset=".7" stop-color="#CB8539" stop-opacity="0" />
                    </linearGradient>
                    <linearGradient id="D" x1="62.3" y1="14.2" x2="62.3" y2="110.4" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#EB6A15" />
                        <stop offset=".7" stop-color="#CB393C" stop-opacity="0" />
                    </linearGradient>
                    <linearGradient id="F" x1="62.3" y1="14.2" x2="62.3" y2="110.4" gradientUnits="userSpaceOnUse">
                        <stop stop-opacity="0" />
                        <stop [attr.offset]="getPositionForPage2(0.01, 1, [5, 8])" />
                    </linearGradient>
                    <filter id="A" x="9.1" y="9.1" width="106.3" height="106.3" filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                        <feGaussianBlur stdDeviation="2.5" result="effect1_foregroundBlur_612_267" />
                    </filter>
                    <filter id="C" x=".1" y=".1" width="124.3" height="124.3" filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                        <feGaussianBlur stdDeviation="7" result="effect1_foregroundBlur_612_267" />
                    </filter>
                    <filter id="E" x=".1" y=".1" width="124.3" height="124.3" filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
                        <feGaussianBlur stdDeviation="7" result="effect1_foregroundBlur_612_267" />
                    </filter>
                </defs>
            </svg>
        </div>

        <div class="sliding-text">
            <app-scrambler-text 
                [text]="'CRAFTING IDEAS \n TO UNIQUE \n EXPERIENCES'"
                [event]="currentPageIndex == 7"
                [ngStyle]="appearDisappear(7)"
                class="title"
            ></app-scrambler-text>

            <div [ngStyle]="appearDisappear(7)" class="paragraph">
                <app-scrambler-text 
                    [text]="'AT ANTIDOTE, WE TURN BOLD \n IDEAS INTO UNFORGETTABLE \n DIGITAL EXPERIENCES.'"
                    [event]="currentPageIndex == 7"
                    [duration]="10"
                ></app-scrambler-text>

                <app-scrambler-text 
                    [text]="'BLENDING CREATIVITY, INNOVATION, \n AND TECHNICAL EXPERTISE, WE CRAFT \n IMMERSIVE DIGITAL SOLUTIONS THAT \n THAT CAPTIVATE AND ENGAGE.'"
                    [event]="currentPageIndex == 7"
                    [duration]="10"
                ></app-scrambler-text>
            </div>
        </div>

        <div class="sliding-text">
            <app-scrambler-text 
                [text]="'WELCOME \n TO OUR \n VISION'"
                [event]="currentPageIndex == 8"
                [ngStyle]="appearDisappear(8)"
                class="title"
            ></app-scrambler-text>

            <app-scrambler-text
                [ngStyle]="appearDisappear(8)" class="paragraph" 
                [text]="'BLENDING CREATIVITY, INNOVATION, \n AND TECHNICAL EXPERTISE, WE CRAFT \n IMMERSIVE DIGITAL SOLUTIONS THAT \n THAT CAPTIVATE AND ENGAGE.'"
                [event]="currentPageIndex == 8"
                [duration]="10"
            ></app-scrambler-text>
        </div>

        <div [ngStyle]="stretch(9)" class="sliding-text-2">
            <p>BEYOND</p>
            <p>VISION</p>
        </div>

        <img [ngClass]="{'astronaut-show': currentPageIndex >= 9}" class="astronaut" src="images/astronaut.svg" alt="">

        <div [ngClass]="{'fader-show': currentPageIndex >= 12}" class="fader"></div>

        <!-- CONTACT -->
        <div [ngClass]="{'contact-show': currentPageIndex >= 12}" class="contact">
            <p class="subtitle">Your idea is ready to go wild?</p>
            
            <div routerLink="contact" class="title-container">
                <div class="title">
                    LET'S WORK
                    <div class="line"></div>
                </div>

                <div class="title">
                    <div class="flex h-align">
                        TOGETHER
                        <img class="arrow" src="icons/arrow-right.svg" alt="">
                    </div>

                    <div class="line"></div>
                </div>
            </div>

            <div class="bottom">
                <p>AIM FOR THE STARS TO <br> LAND ON THE MOON</p>

                <img class="animated-planet" src="images/planet.gif" alt="">

                <p>AIM FOR THE STARS TO <br> LAND ON THE MOON</p>
            </div>
        </div>
    </div>
</div>